{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport { CSVReader, readString, jsonToCSV, readRemoteFile } from 'react-papaparse';\nconst buttonRef = React.createRef();\nexport default class Demo extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handleImportOffer\", () => {\n      const index = this.state.tabIndex;\n\n      if (index === 0) {\n        const results = readString(this.state.str);\n        console.log('---------------------------');\n        console.log('Parse complete!');\n        console.log('Row count: ', results.data.length);\n        console.log('Errors: ', results.errors.length);\n        console.log('Results: ', results);\n        console.log('---------------------------');\n      } else if (index === 1) {\n        const results = this.state.csvData;\n\n        if (results) {\n          console.log('---------------------------');\n          console.log('Parse complete!');\n          console.log('Row count: ', results.length);\n          console.log('Results: ', results);\n          console.log('---------------------------');\n        } else {\n          // eslint-disable-next-line no-undef\n          alert('Please choose at least one file to parse.');\n        }\n      } else if (index === 2) {\n        if (this.state.url === '') {\n          // eslint-disable-next-line no-undef\n          alert('Please enter the URL of a file to download and parse.');\n          return;\n        }\n\n        console.log('Running!');\n        readRemoteFile(this.state.url, {\n          complete: results => {\n            console.log('---------------------------');\n            console.log('Parse complete!');\n            console.log('Row count: ', results.data.length);\n            console.log('Errors: ', results.errors.length);\n            console.log('Results: ', results);\n            console.log('---------------------------');\n          }\n        });\n      } else {\n        try {\n          const results = jsonToCSV(this.state.jsonData);\n          console.log('---------------------------');\n          console.log(results);\n          console.log('---------------------------');\n        } catch (e) {\n          // eslint-disable-next-line no-undef\n          alert('Please enter valid JSON.');\n        }\n      }\n    });\n\n    _defineProperty(this, \"setTabIndex\", index => {\n      this.setState({\n        tabIndex: index\n      });\n    });\n\n    _defineProperty(this, \"handleStrChange\", e => {\n      this.setState({\n        str: e.target.value\n      });\n    });\n\n    _defineProperty(this, \"handleJsonDataChange\", e => {\n      this.setState({\n        jsonData: e.target.value\n      });\n    });\n\n    _defineProperty(this, \"handleURLChange\", e => {\n      this.setState({\n        url: e.target.value\n      });\n    });\n\n    _defineProperty(this, \"setURL\", url => {\n      this.setState({\n        url\n      });\n    });\n\n    _defineProperty(this, \"handleOnDrop\", data => {\n      this.setState({\n        csvData: data\n      });\n    });\n\n    _defineProperty(this, \"handleOnError\", (error, file, inputElem, reason) => {\n      console.log(error);\n    });\n\n    _defineProperty(this, \"handleOpenDialog\", e => {\n      // Note that the ref is set async, so it might be null at some point\n      if (buttonRef.current) {\n        buttonRef.current.open(e);\n      }\n    });\n\n    _defineProperty(this, \"handleRemoveFile\", e => {\n      // Note that the ref is set async, so it might be null at some point\n      if (buttonRef.current) {\n        buttonRef.current.removeFile(e);\n      }\n    });\n\n    _defineProperty(this, \"handleOnRemoveFile\", data => {\n      this.setState({\n        csvData: data\n      });\n    });\n\n    this.state = {\n      tabIndex: 0,\n      str: `Column 1,Column 2,Column 3,Column 4\n1-1,1-2,1-3,1-4\n2-1,2-2,2-3,2-4\n3-1,3-2,3-3,3-4\n4,5,6,7`,\n      csvData: null,\n      url: '',\n      jsonData: `[\n  {\n      \"Column 1\": \"1-1\",\n      \"Column 2\": \"1-2\",\n      \"Column 3\": \"1-3\",\n      \"Column 4\": \"1-4\"\n  },\n  {\n      \"Column 1\": \"2-1\",\n      \"Column 2\": \"2-2\",\n      \"Column 3\": \"2-3\",\n      \"Column 4\": \"2-4\"\n  },\n  {\n      \"Column 1\": \"3-1\",\n      \"Column 2\": \"3-2\",\n      \"Column 3\": \"3-3\",\n      \"Column 4\": \"3-4\"\n  },\n  {\n      \"Column 1\": 4,\n      \"Column 2\": 5,\n      \"Column 3\": 6,\n      \"Column 4\": 7\n  }\n]`\n    };\n  }\n\n  render() {\n    return __jsx(React.Fragment, null, __jsx(\"main\", null, __jsx(\"header\", null, __jsx(\"div\", {\n      className: \"grid-container\"\n    }, __jsx(\"div\", {\n      className: \"grid-40 mobile-grid-50\"\n    }, __jsx(\"div\", {\n      className: \"links\"\n    }, __jsx(\"a\", {\n      href: \"/\"\n    }, __jsx(\"i\", {\n      className: \"fa fa-home fa-lg\"\n    }), \" Home\"), __jsx(\"a\", {\n      href: \"/demo\"\n    }, __jsx(\"i\", {\n      className: \"fa fa-magic fa-lg\"\n    }), \" Demo\"), __jsx(\"a\", {\n      href: \"/docs\"\n    }, __jsx(\"i\", {\n      className: \"fa fa-book fa-lg\"\n    }), \" Docs\"))), __jsx(\"div\", {\n      className: \"grid-20 hide-on-mobile text-center\"\n    }, __jsx(\"a\", {\n      href: \"/\",\n      className: \"text-logo\"\n    }, \"react-papaparse 3\")), __jsx(\"div\", {\n      className: \"grid-40 mobile-grid-50 text-right\"\n    }, __jsx(\"div\", {\n      className: \"links\"\n    }, __jsx(\"a\", {\n      href: \"https://github.com/Bunlong/react-papaparse\"\n    }, __jsx(\"i\", {\n      className: \"fa fa-github fa-lg\"\n    }), \" GitHub\"))))), __jsx(\"h1\", null, \"Choose a Demo\"), __jsx(\"div\", {\n      className: \"grid-container\"\n    }, __jsx(\"div\", {\n      className: \"grid-66\"\n    }, __jsx(Tabs, {\n      onSelect: index => this.setTabIndex(index)\n    }, __jsx(TabList, null, __jsx(Tab, null, \"String\"), __jsx(Tab, null, \"Local File(s)\"), __jsx(Tab, null, \"Remote File\"), __jsx(Tab, null, \"JSON to CSV\")), __jsx(TabPanel, null, __jsx(\"div\", {\n      className: \"input-area\",\n      id: \"input-string\"\n    }, __jsx(\"div\", {\n      style: {\n        float: 'right',\n        marginBottom: 14\n      }\n    }, __jsx(\"a\", {\n      href: \"https://github.com/Bunlong/react-papaparse/blob/master/demo/ReadString.js\"\n    }, \"Source code\")), __jsx(\"textarea\", {\n      id: \"input\",\n      placeholder: \"String input\",\n      onChange: this.handleStrChange,\n      value: this.state.str\n    }))), __jsx(TabPanel, null, __jsx(\"div\", {\n      className: \"input-area\",\n      id: \"input-string\"\n    }, __jsx(\"div\", null, __jsx(\"div\", {\n      className: \"text-center\"\n    }, \"Choose one or more delimited text files for react-papaparse to parse.\"), __jsx(\"div\", {\n      style: {\n        marginTop: 60,\n        marginBottom: 46\n      }\n    }, __jsx(\"h5\", null, \"Basic Upload\"), __jsx(\"div\", {\n      style: {\n        marginBottom: 14,\n        textAlignLast: 'end'\n      }\n    }, __jsx(\"a\", {\n      href: \"https://github.com/Bunlong/react-papaparse/blob/master/demo/CSVReader1.js\"\n    }, \"Source code\")), __jsx(CSVReader, {\n      ref: buttonRef,\n      onFileLoad: this.handleOnDrop,\n      onError: this.handleOnError,\n      noClick: true,\n      noDrag: true,\n      onRemoveFile: this.handleOnRemoveFile\n    }, ({\n      file\n    }) => __jsx(\"aside\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        marginBottom: 10\n      }\n    }, __jsx(\"button\", {\n      type: \"button\",\n      onClick: this.handleOpenDialog,\n      style: {\n        borderRadius: 0,\n        marginLeft: 0,\n        marginRight: 0,\n        width: '40%',\n        paddingLeft: 0,\n        paddingRight: 0\n      }\n    }, \"Browe file\"), __jsx(\"div\", {\n      style: {\n        borderWidth: 1,\n        borderStyle: 'solid',\n        borderColor: '#ccc',\n        height: 45,\n        lineHeight: 2.5,\n        marginTop: 5,\n        marginBottom: 5,\n        paddingLeft: 13,\n        paddingTop: 3,\n        width: '60%'\n      }\n    }, file && file.name), __jsx(\"button\", {\n      className: \"button red\",\n      style: {\n        borderRadius: 0,\n        marginLeft: 0,\n        marginRight: 0,\n        paddingLeft: 20,\n        paddingRight: 20\n      },\n      onClick: this.handleRemoveFile\n    }, \"Remove\")))), __jsx(\"div\", {\n      style: {\n        marginTop: 50,\n        marginBottom: 46\n      }\n    }, __jsx(\"h5\", null, \"Click and Drag Upload\"), __jsx(\"div\", {\n      style: {\n        marginBottom: 14,\n        textAlignLast: 'end'\n      }\n    }, __jsx(\"a\", {\n      href: \"https://github.com/Bunlong/react-papaparse/blob/master/demo/CSVReader2.js\"\n    }, \"Source code\")), __jsx(CSVReader, {\n      onDrop: this.handleOnDrop,\n      onError: this.handleOnError,\n      addRemoveButton: true,\n      onRemoveFile: this.handleOnRemoveFile\n    }, __jsx(\"span\", null, \"Drop CSV file here or click to upload.\"))), __jsx(\"div\", {\n      style: {\n        marginTop: 50,\n        marginBottom: 46\n      }\n    }, __jsx(\"h5\", null, \"Drag ( No Click ) Upload\"), __jsx(\"div\", {\n      style: {\n        marginBottom: 14,\n        textAlignLast: 'end'\n      }\n    }, __jsx(\"a\", {\n      href: \"https://github.com/Bunlong/react-papaparse/blob/master/demo/CSVReader3.js\"\n    }, \"Source code\")), __jsx(CSVReader, {\n      onDrop: this.handleOnDrop,\n      onError: this.handleOnError,\n      noClick: true,\n      addRemoveButton: true,\n      onRemoveFile: this.handleOnRemoveFile\n    }, __jsx(\"span\", null, \"Drop CSV file here to upload.\"))), __jsx(\"div\", {\n      style: {\n        marginTop: 50,\n        marginBottom: 46\n      }\n    }, __jsx(\"h5\", null, \"Click ( No Drag ) Upload\"), __jsx(\"div\", {\n      style: {\n        marginBottom: 14,\n        textAlignLast: 'end'\n      }\n    }, __jsx(\"a\", {\n      href: \"https://github.com/Bunlong/react-papaparse/blob/master/demo/CSVReader4.js\"\n    }, \"Source code\")), __jsx(CSVReader, {\n      onDrop: this.handleOnDrop,\n      onError: this.handleOnError,\n      noDrag: true,\n      addRemoveButton: true,\n      onRemoveFile: this.handleOnRemoveFile\n    }, __jsx(\"span\", null, \"Click to upload.\"))), \"Sample files:\", __jsx(\"ul\", null, __jsx(\"li\", null, __jsx(\"a\", {\n      href: \"/static/csv/normal.csv\",\n      id: \"local-normal-file\"\n    }, \"Normal file\")), __jsx(\"li\", null, __jsx(\"a\", {\n      href: \"/static/csv/big.csv\",\n      id: \"local-large-file\"\n    }, \"Large file\")), __jsx(\"li\", null, __jsx(\"a\", {\n      href: \"/static/csv/malformed.csv\",\n      id: \"local-malformed-file\"\n    }, \"Malformed file\")))))), __jsx(TabPanel, null, __jsx(\"div\", {\n      className: \"input-area\",\n      id: \"input-string\"\n    }, __jsx(\"div\", {\n      style: {\n        marginBottom: 14,\n        textAlignLast: 'end'\n      }\n    }, __jsx(\"a\", {\n      href: \"https://github.com/Bunlong/react-papaparse/blob/master/demo/ReadRemoteFile.js\"\n    }, \"Source code\")), __jsx(\"div\", null, __jsx(\"div\", {\n      className: \"text-center\"\n    }, \"Type the URL of the file to be downloaded and parsed.\", __jsx(\"br\", null), __jsx(\"small\", null, \"(cross-origin requests require Access-Control-Allow-Origin header)\")), __jsx(\"input\", {\n      type: \"text\",\n      id: \"url\",\n      placeholder: \"URL\",\n      value: this.state.url,\n      onChange: this.handleURLChange\n    }), \"Sample remote files:\", __jsx(\"ul\", null, __jsx(\"li\", null, __jsx(\"a\", {\n      id: \"local-normal-file\",\n      onClick: () => this.setURL('/static/csv/normal.csv'),\n      style: {\n        cursor: 'pointer'\n      }\n    }, \"Normal file\")), __jsx(\"li\", null, __jsx(\"a\", {\n      id: \"local-large-file\",\n      onClick: () => this.setURL('/static/csv/big.csv'),\n      style: {\n        cursor: 'pointer'\n      }\n    }, \"Large file\")), __jsx(\"li\", null, __jsx(\"a\", {\n      id: \"local-malformed-file\",\n      onClick: () => this.setURL('/static/csv/malformed.csv'),\n      style: {\n        cursor: 'pointer'\n      }\n    }, \"Malformed file\")))))), __jsx(TabPanel, null, __jsx(\"div\", {\n      className: \"input-area\",\n      id: \"input-string\"\n    }, __jsx(\"div\", {\n      style: {\n        float: 'right',\n        marginBottom: 14\n      }\n    }, __jsx(\"a\", {\n      href: \"https://github.com/Bunlong/react-papaparse/blob/master/demo/JsonToCSV.js\"\n    }, \"Source code\")), __jsx(\"div\", null, __jsx(\"textarea\", {\n      id: \"json\",\n      placeholder: \"JSON string\",\n      value: this.state.jsonData,\n      onChange: this.handleJsonDataChange\n    }))))), __jsx(\"div\", {\n      className: \"text-center\"\n    }, __jsx(\"div\", {\n      className: \"see-results\"\n    }, \"Results will appear in the console of your browser's inspector tools\"), __jsx(\"button\", {\n      id: \"submit\",\n      className: \"green\",\n      onClick: this.handleImportOffer\n    }, \"Parse\"))))));\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}